<!DOCTYPE html><html lang="en-US"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><title>US vs NZ retail prices comparison during COVID-19 - Exegetic<br/> Laura Calcagni</title><link rel="shortcut icon" href="http://localhost:4000/just-the-docs/favicon.ico" type="image/x-icon"><link rel="stylesheet" href="http://localhost:4000/just-the-docs/assets/css/just-the-docs.css"> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-2709176-10"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', "UA-2709176-10"); </script> <script type="text/javascript" src="http://localhost:4000/just-the-docs/assets/js/just-the-docs.js"></script><meta name="viewport" content="width=device-width, initial-scale=1"><title>US vs NZ retail prices comparison during COVID-19 | Exegetic Laura Calcagni</title><meta name="generator" content="Jekyll v4.0.1" /><meta property="og:title" content="US vs NZ retail prices comparison during COVID-19" /><meta property="og:locale" content="en_US" /><meta name="description" content="A Jekyll theme for documentation" /><meta property="og:description" content="A Jekyll theme for documentation" /><link rel="canonical" href="http://localhost:4000/just-the-docs/docs/USvsNz/" /><meta property="og:url" content="http://localhost:4000/just-the-docs/docs/USvsNz/" /><meta property="og:site_name" content="Exegetic Laura Calcagni" /> <script type="application/ld+json"> {"description":"A Jekyll theme for documentation","@type":"WebPage","url":"http://localhost:4000/just-the-docs/docs/USvsNz/","headline":"US vs NZ retail prices comparison during COVID-19","@context":"https://schema.org"}</script><body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="link" viewBox="0 0 16 16"><title>Link</title><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path> </symbol> </svg><div class="page-wrap"><div class="side-bar"><div class="site-header"> <a href="http://localhost:4000/just-the-docs" class="site-title lh-tight"> Exegetic<br/> Laura Calcagni </a> <button class="menu-button fs-3 js-main-nav-trigger" data-text-toggle="Hide" type="button">Menu</button></div><div class="navigation main-nav js-main-nav"><nav role="navigation" aria-label="Main navigation"><ul class="navigation-list"><li class="navigation-list-item"><a href="http://localhost:4000/just-the-docs/" class="navigation-list-link">Exploring Trundler</a><li class="navigation-list-item"><a href="http://localhost:4000/just-the-docs/docs/Getting_familiar/" class="navigation-list-link">Getting familiar with the API using Python</a><li class="navigation-list-item active"><a href="http://localhost:4000/just-the-docs/docs/USvsNz/" class="navigation-list-link active">US vs NZ retail prices comparison during COVID-19</a><li class="navigation-list-item"><a href="http://localhost:4000/just-the-docs/docs/Newfunctionalities/" class="navigation-list-link">New Functionalities</a></ul></nav></div><footer class="site-footer"><p class="text-small text-grey-dk-000 mb-4">This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.</p></footer></div><div class="main-content-wrap js-main-content" tabindex="0"><div class="main-content"><div class="page-header js-page-header"><ul class="list-style-none text-small aux-nav"><li class="d-inline-block my-0"><a href="https://www.linkedin.com/in/lauracalcagni/">Find me on LinkedIn</a></ul></div><div class="page"><div id="main-content" class="page-content" role="main"><h1 class="no_toc" id="us-vs-nz-retail-prices-comparison-during-covid-19"> <a href="#us-vs-nz-retail-prices-comparison-during-covid-19" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> US vs NZ: retail prices comparison during COVID-19</h1><p>There is a retailer located both in the USA and in New Zealand. Since these are two countries with such a different evolution of the number of COVID-19 infected people [1], I want to evaluate if there is some variability in the price of the products sold by the retailer that are shared in both countries and if it has a correlation with the number of COVID-19 cases per day in each country.</p><p class="fs-6 fw-300"><a href="https://github.com/lcalcagni/exegeticProject/notebooks/nzus.ipynb" class="btn fs-3 mb-2 mb-md-0">Download Jupyter Notebook for this section</a></p><hr /><div class="language-R highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">library</span><span class="p">(</span><span class="n">trundler</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">dplyr</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">sqldf</span><span class="p">)</span><span class="w">
</span></code></pre></div></div><div class="language-R highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">set_api_key</span><span class="p">({</span><span class="n">my_API_key</span><span class="p">})</span><span class="w">
</span></code></pre></div></div><p><br /> I found this retailer which operates in US and NZ:</p><div class="language-R highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">retailer</span><span class="p">(</span><span class="m">105</span><span class="p">)</span><span class="w">
</span><span class="n">retailer</span><span class="p">(</span><span class="m">109</span><span class="p">)</span><span class="w">
</span></code></pre></div></div><div class="table-wrapper"><table><thead><tr><th scope="col">retailer_id<th scope="col">retailer<th scope="col">retailer_url<th scope="col">currency<tbody><tr><td>105<td>CottonOn (NZ)<td>https://cottonon.com/NZ/<td>NZD</table></div><div class="table-wrapper"><table><thead><tr><th scope="col">retailer_id<th scope="col">retailer<th scope="col">retailer_url<th scope="col">currency<tbody><tr><td>109<td>CottonOn (US)<td>https://cottonon.com/US/<td>USD</table></div><p><br /> I focus on the brand products that the retailer produces and then I get all that products in NZ and US</p><div class="language-R highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">cot_on</span><span class="o">=</span><span class="n">products</span><span class="p">(</span><span class="n">brand</span><span class="o">=</span><span class="s2">"Cotton On"</span><span class="p">)</span><span class="w">
</span></code></pre></div></div><div class="language-R highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">nz_cot_on</span><span class="o">=</span><span class="n">filter</span><span class="p">(</span><span class="n">cot_on</span><span class="p">,</span><span class="w"> </span><span class="n">cot_on</span><span class="o">$</span><span class="n">retailer_id</span><span class="o">==</span><span class="m">105</span><span class="p">)</span><span class="w">
</span><span class="n">us_cot_on</span><span class="o">=</span><span class="n">filter</span><span class="p">(</span><span class="n">cot_on</span><span class="p">,</span><span class="w"> </span><span class="n">cot_on</span><span class="o">$</span><span class="n">retailer_id</span><span class="o">==</span><span class="m">109</span><span class="p">)</span><span class="w">
</span></code></pre></div></div><p><br /></p><p>I combine both DataFrames getting all the shared products in both countries (same SKU). I certainly couldn’t use the <code class="highlighter-rouge">sqldf</code> package, but… I’m still getting used to R.</p><div class="language-R highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">combined_nzus</span><span class="o">=</span><span class="n">sqldf</span><span class="p">(</span><span class="s2">"
  SELECT
    nz_cot_on.sku,
    nz_cot_on.product,
    nz_cot_on.product_id as nz_prod_id,
    us_cot_on.product_id as us_prod_id
  FROM
    nz_cot_on
  INNER JOIN
    us_cot_on
  ON
    nz_cot_on.sku = us_cot_on.sku

"</span><span class="p">)</span><span class="w">
</span></code></pre></div></div><p><br /></p><div class="language-R highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">combined_nzus</span><span class="w">
</span></code></pre></div></div><div class="table-wrapper"><table><thead><tr><th scope="col">sku<th scope="col">product<th scope="col">nz_prod_id<th scope="col">us_prod_id<tbody><tr><td>2010837-11<td>The Original Graphic Tee<td>2415630<td>2601194<tr><td>2010837-10<td>The Original Graphic Tee<td>2415633<td>2601195<tr><td>2010837-08<td>The Original Graphic Tee<td>2415641<td>2601197<tr><td>2010837-05<td>The Original Graphic Tee<td>2415666<td>2601198<tr><td>2010837-02<td>The Original Graphic Tee<td>2415671<td>2601200<tr><td>2010808-01<td>Curve Straight Stretch High Rise Jean<td>2415745<td>2601212<tr><td>2010767-03<td>Curve The One Crew Tee<td>2415903<td>2601226<tr><td>2010767-01<td>Curve The One Crew Tee<td>2415905<td>2601232<tr><td>2010768-02<td>Curve The One Scoop Tee<td>2415882<td>2601218<tr><td>2010768-01<td>Curve The One Scoop Tee<td>2415884<td>2601223<tr><td>2010721-09<td>Sheer Vintage Scoop Long Sleeve Top<td>2416010<td>2601244<tr><td>2010721-06<td>Sheer Vintage Scoop Long Sleeve Top<td>2416020<td>2601245<tr><td>2010721-02<td>Sheer Vintage Scoop Long Sleeve Top<td>2416025<td>2601246<tr><td>2010721-01<td>Sheer Vintage Scoop Long Sleeve Top<td>2416031<td>2601247<tr><td>2010569-05<td>The Kyle Oversize Long Sleeve Tee<td>2416152<td>2601273<tr><td>2010569-01<td>The Kyle Oversize Long Sleeve Tee<td>2416179<td>2601274<tr><td>2010754-01<td>Curve 90S Baggy Denim Jacket<td>2415933<td>2601233<tr><td>2010383-02<td>Not Your Boyfriends Denim Trucker Jacket<td>2416413<td>2601288<tr><td>2010383-01<td>Not Your Boyfriends Denim Trucker Jacket<td>2416423<td>2601289<tr><td>2010375-01<td>Paperbag Pant<td>2416463<td>2690286<tr><td>2010375-01<td>Paperbag Pant<td>2416463<td>2690286<tr><td>2010483-01<td>Os Denim Jacket<td>2416234<td>2601278<tr><td>2009940-04<td>Curve Oversized Graphic License Tee<td>2417544<td>2601399<tr><td>2009902-05<td>Curve Graphic Fitted Tee<td>2417603<td>2601401<tr><td>2009901-07<td>Curve Oversized Graphic Tee<td>2417607<td>2601402<tr><td>2009901-06<td>Curve Oversized Graphic Tee<td>2417624<td>2601403<tr><td>2009901-05<td>Curve Oversized Graphic Tee<td>2417632<td>2601406<tr><td>2009882-06<td>Curve Oversized Graphic Tee<td>2417735<td>2601410<tr><td>2009882-05<td>Curve Oversized Graphic Tee<td>2417746<td>2601417<tr><td>2009665-02<td>Sheer Vintage Scoop Tee<td>2417886<td>2601474<tr><td>...<td>...<td>...<td>...<tr><td>791735-33<td>Baby Leggings<td>2669646<td>2685477<tr><td>791735-24<td>Baby Leggings<td>2669650<td>2685478<tr><td>791735-24<td>Baby Leggings<td>2669650<td>2685478<tr><td>790341-88<td>Hair Clips<td>2669743<td>2584797<tr><td>790341-87<td>Hair Clips<td>2669745<td>2584800<tr><td>790341-85<td>Hair Clips<td>2669749<td>2584802<tr><td>790341-84<td>Hair Clips<td>2669752<td>2584806<tr><td>790341-83<td>Hair Clips<td>2669756<td>2584812<tr><td>790341-82<td>Hair Clips<td>2669759<td>2584815<tr><td>790341-81<td>Hair Clips<td>2669761<td>2584819<tr><td>790319-75<td>Scarf Scrunchie<td>2669781<td>2584836<tr><td>790319-70<td>Scarf Scrunchie<td>2669784<td>2584842<tr><td>790274-19<td>Novelty Headband<td>2669829<td>2584886<tr><td>790274-18<td>Novelty Headband<td>2669831<td>2584891<tr><td>790269-72<td>Statement Bows<td>2669836<td>2584903<tr><td>790269-09<td>Statement Bows<td>2669839<td>2584914<tr><td>790107-01<td>Baby Opaque Tights<td>2669863<td>2584962<tr><td>790101-14<td>Kids Classic Trainers<td>2669874<td>2685550<tr><td>790101-14<td>Kids Classic Trainers<td>2669874<td>2685550<tr><td>790298-28<td>Fashion Headband<td>2669805<td>2584854<tr><td>790284-49<td>Mini Scrunchie<td>2669810<td>2584858<tr><td>790284-43<td>Mini Scrunchie<td>2669812<td>2584869<tr><td>2008466-06<td>The Baby Tee<td>2731624<td>2741473<tr><td>2008466-04<td>The Baby Tee<td>2731626<td>2741474<tr><td>2008466-02<td>The Baby Tee<td>2731627<td>2741475<tr><td>2008466-01<td>The Baby Tee<td>2731628<td>2741476<tr><td>2008466-06<td>The Baby Tee<td>2731624<td>2741473<tr><td>2008466-04<td>The Baby Tee<td>2731626<td>2741474<tr><td>2008466-02<td>The Baby Tee<td>2731627<td>2741475<tr><td>2008466-01<td>The Baby Tee<td>2731628<td>2741476</table></div><p>When I determine how much prices samples we have for each of the shared products I find that I have, at best, only 6 price samples. What is more, the date ranges of the sampled prices do not cover the COVID-19 period (for example it goes from 2020-04-27 to 2020-05-25).</p><div class="language-R highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m">1</span><span class="o">:</span><span class="n">nrow</span><span class="p">(</span><span class="n">combined_nzus</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">nz_timeprices</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">product_prices</span><span class="p">(</span><span class="nf">as.numeric</span><span class="p">(</span><span class="n">combined_nzus</span><span class="o">$</span><span class="n">nz_prod_id</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span><span class="w">
    </span><span class="n">us_timeprices</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">product_prices</span><span class="p">(</span><span class="nf">as.numeric</span><span class="p">(</span><span class="n">combined_nzus</span><span class="o">$</span><span class="n">us_prod_id</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span><span class="w">
    </span><span class="n">print</span><span class="p">(</span><span class="n">paste</span><span class="p">(</span><span class="n">nrow</span><span class="p">(</span><span class="n">nz_timeprices</span><span class="p">),</span><span class="w"> </span><span class="n">nrow</span><span class="p">(</span><span class="n">us_timeprices</span><span class="p">)))</span><span class="w">
</span><span class="p">}</span><span class="w">    
</span></code></pre></div></div><p><br /></p><h2 id="conclusion-of-this-section"> <a href="#conclusion-of-this-section" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Conclusion of this section</h2><p>Oops! Not enough data for this analysis.</p><p><br /> <br /> <br /></p><h4 id="1-endcoronavirusorg"> <a href="#1-endcoronavirusorg" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> [1] <a href="https://www.endcoronavirus.org/">endcoronavirus.org</a></h4></div></div></div></div>
